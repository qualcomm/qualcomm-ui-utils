name: Qualcomm Preflight Checks
on:
  pull_request:
    branches: [ main ]
  push:
    branches: [ main ]
  workflow_dispatch:

permissions:
 contents: read
 security-events: write

jobs:
  qcom-preflight-checks:
    uses: qualcomm/qcom-reusable-workflows/.github/workflows/qcom-preflight-checks-reusable-workflow.yml@v1.1.4
    with:
        # âœ… Preflight Checkers
        repolinter: true                   # default: true
        # This is run daily on a cron. See: semgrep.yml
        semgrep: false                     # default: true
        copyright-license-detector: true   # default: true
        pr-check-emails: true              # default: true
        dependency-review: true            # default: true
    secrets:
      SEMGREP_APP_TOKEN: ${{ secrets.SEMGREP_APP_TOKEN }}
    concurrency:
      group: qcom-preflight-checks - ${{github.head_ref}}
      cancel-in-progress: true
